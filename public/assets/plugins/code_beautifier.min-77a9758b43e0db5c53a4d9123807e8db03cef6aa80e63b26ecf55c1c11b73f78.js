!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("froala-editor")):"function"==typeof define&&define.amd?define(["froala-editor"],t):t(e.FroalaEditor)}(this,function(e){"use strict";(e=e&&e.hasOwnProperty("default")?e["default"]:e).PLUGINS.codeBeautifier=function(){function y(i,e){function r(){return(g=i.charAt(++R))||""}function n(e){var t,n=R;return e&&s(),t=i.charAt(R+1)||"",R=n-1,r(),t}function t(e){for(var t=R;r();)if("\\"===g)r();else{if(-1!==e.indexOf(g))break;if("\n"===g)break}return i.substring(t,R+1)}function s(){for(var e="";K.test(n());)r(),e+=g;return e}function _(){var e="";for(g&&K.test(g)&&(e=g);K.test(r());)e+=g;return e}function a(e){var t=R;for(e="/"===n(),r();r();){if(!e&&"*"===g&&"/"===n()){r();break}if(e&&"\n"===g)return i.substring(t,R)}return i.substring(t,R)+g}function o(e){return i.substring(R-e.length,R).toLowerCase()===e}function l(){for(var e=0,t=R+1;t<i.length;t++){var n=i.charAt(t);if("{"===n)return!0;if("("===n)e+=1;else if(")"===n){if(0===e)return!1;e-=1}else if(" "===n||"}"===n)return!1}return!1}var h={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},c={"@media":!0,"@supports":!0,"@document":!0};e=e||{},i=(i=i||"").replace(/\r\n|[\r\u2028\u2029]/g,"\n");var u=e.indent_size||4,p=e.indent_char||" ",d=e.selector_separator_newline===undefined||e.selector_separator_newline,f=e.end_with_newline!==undefined&&e.end_with_newline,T=e.newline_between_rules===undefined||e.newline_between_rules,E=e.eol?e.eol:"\n";"string"==typeof u&&(u=parseInt(u,10)),e.indent_with_tabs&&(p="\t",u=1),E=E.replace(/\\r/,"\r").replace(/\\n/,"\n");for(var g,x,w,K=/^\s+$/,R=-1,m=0,b=i.match(/^[\t ]*/)[0],S=new Array(u+1).join(p),v=0,A=0,k={"{":function(e){k.singleSpace(),y.push(e),k.newLine()},"}":function(e){k.newLine(),y.push(e),k.newLine()},_lastCharWhitespace:function(){return K.test(y[y.length-1])},newLine:function(e){y.length&&(e||"\n"===y[y.length-1]||k.trim(),y.push("\n"),b&&y.push(b))},singleSpace:function(){y.length&&!k._lastCharWhitespace()&&y.push(" ")},preserveSingleSpace:function(){isAfterSpace&&k.singleSpace()},trim:function(){for(;k._lastCharWhitespace();)y.pop()}},y=[],O=!1,N=!1,D=!1,C="",L="";;){var I=-1!==_().indexOf("\n");if(L=C,!(C=g))break;if("/"===g&&"*"===n()){var V=0===v;(I||V)&&k.newLine(),y.push(a()),k.newLine(),V&&k.newLine(!0)}else if("/"===g&&"/"===n())I||"{"===L||k.trim(),k.singleSpace(),y.push(a()),k.newLine();else if("@"===g){k.preserveSingleSpace(),y.push(g);var P=(x=R,w=t(": , {}()[]/='\""),R=x-1,r(),w);P.match(/[ :]$/)&&(r(),P=t(": ").replace(/\s$/,""),y.push(P),k.singleSpace()),(P=P.replace(/\s$/,""))in h&&(A+=1,P in c&&(D=!0))}else"#"===g&&"{"===n()?(k.preserveSingleSpace(),y.push(t("}"))):"{"===g?"}"===n(!0)?(s(),r(),k.singleSpace(),y.push("{}"),k.newLine(),T&&0===v&&k.newLine(!0)):(v++,b+=S,k["{"](g),O=D?(D=!1,A<v):A<=v):"}"===g?(v--,b=b.slice(0,-u),k["}"](g),N=O=!1,A&&A--,T&&0===v&&k.newLine(!0)):":"===g?(s(),!O&&!D||o("&")||l()?":"===n()?(r(),y.push("::")):y.push(":"):(N=!0,y.push(":"),k.singleSpace())):'"'===g||"'"===g?(k.preserveSingleSpace(),y.push(t(g))):" "===g?(N=!1,y.push(g),k.newLine()):"("===g?o("url")?(y.push(g),s(),r()&&(")"!==g&&'"'!==g&&"'"!==g?y.push(t(")")):R--)):(m++,k.preserveSingleSpace(),y.push(g),s()):")"===g?(y.push(g),m--):","===g?(y.push(g),s(),d&&!N&&m<1?k.newLine():k.singleSpace()):("]"===g||("["===g?k.preserveSingleSpace():"="===g?(s(),g="="):k.preserveSingleSpace()),y.push(g))}var B="";return b&&(B+=b),B+=y.join("").replace(/[\r\n\t ]+$/,""),f&&(B+="\n"),"\n"!=E&&(B=B.replace(/[\n]/g,E)),B}function Q(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function Y(e){return e.replace(/^\s+|\s+$/g,"")}function O(e,t){return new n(e,t).beautify()}function n(i,e){function t(e,t){var n=0;return e&&(n=e.indentation_level,!g.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level)),{mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:g.get_line_number(),ternary_depth:0}}function r(e){var t=e.newlines;if(O.keep_array_indentation&&o(S.mode))for(var n=0;n<t;n+=1)l(0<n);else if(O.max_preserve_newlines&&t>O.max_preserve_newlines&&(t=O.max_preserve_newlines),O.preserve_newlines&&1<e.newlines){l();for(var i=1;i<t;i+=1)l(!0)}y[(K=e).type]()}function n(e){e=e!==undefined&&e,g.just_added_newline()||(O.preserve_newlines&&K.wanted_newline||e?l(!1,!0):O.wrap_line_length&&g.current_line.get_character_count()+K.text.length+(g.space_before_token?1:0)>=O.wrap_line_length&&l(!1,!0))}function l(e,t){if(!t&&" "!==S.last_text&&","!==S.last_text&&"="!==S.last_text&&"TK_OPERATOR"!==R)for(;S.mode===J.Statement&&!S.if_block&&!S.do_block;)u();g.add_new_line(e)&&(S.multiline_frame=!0)}function s(){g.just_added_newline()&&(O.keep_array_indentation&&o(S.mode)&&K.wanted_newline?(g.current_line.push(K.whitespace_before),g.space_before_token=!1):g.set_indent(S.indentation_level)&&(S.line_indent_level=S.indentation_level))}function h(e){g.raw?g.add_raw_token(K):(O.comma_first&&"TK_COMMA"===R&&g.just_added_newline()&&","===g.previous_line.last()&&(g.previous_line.pop(),s(),g.add_token(","),g.space_before_token=!0),e=e||K.text,s(),g.add_token(e))}function _(){S.indentation_level+=1}function a(e){v=S?(A.push(S),S):t(null,e),S=t(v,e)}function o(e){return e===J.ArrayLiteral}function c(e){return Q(e,[J.Expression,J.ForInitializer,J.Conditional])}function u(){0<A.length&&(v=S,S=A.pop(),v.mode===J.Statement&&g.remove_redundant_indentation(v))}function p(){return S.parent.mode===J.ObjectLiteral&&S.mode===J.Statement&&(":"===S.last_text&&0===S.ternary_depth||"TK_RESERVED"===R&&Q(S.last_text,["get","set"]))}function d(){return!!("TK_RESERVED"===R&&Q(S.last_text,["const","let","const"])&&"TK_WORD"===K.type||"TK_RESERVED"===R&&"do"===S.last_text||"TK_RESERVED"===R&&"return"===S.last_text&&!K.wanted_newline||"TK_RESERVED"===R&&"else"===S.last_text&&("TK_RESERVED"!==K.type||"if"!==K.text)||"TK_END_EXPR"===R&&(v.mode===J.ForInitializer||v.mode===J.Conditional)||"TK_WORD"===R&&S.mode===J.BlockStatement&&!S.in_case&&"--"!==K.text&&"++"!==K.text&&"function"!==m&&"TK_WORD"!==K.type&&"TK_RESERVED"!==K.type||S.mode===J.ObjectLiteral&&(":"===S.last_text&&0===S.ternary_depth||"TK_RESERVED"===R&&Q(S.last_text,["get","set"])))&&(a(J.Statement),_(),"TK_RESERVED"===R&&Q(S.last_text,["const","let","const"])&&"TK_WORD"===K.type&&(S.declaration_statement=!0),p()||n("TK_RESERVED"===K.type&&Q(K.text,["do","for","if","while"])),!0)}function f(e){return Q(e,["case","return","do","if","throw","else"])}function T(e){var t=x+(e||0);return t<0||t>=N.length?null:N[t]}function E(){if("TK_RESERVED"===K.type&&S.mode!==J.ObjectLiteral&&Q(K.text,["set","get"])&&(K.type="TK_WORD"),"TK_RESERVED"===K.type&&S.mode===J.ObjectLiteral&&":"===T(1).text&&(K.type="TK_WORD"),d()||!K.wanted_newline||c(S.mode)||"TK_OPERATOR"===R&&"--"!==S.last_text&&"++"!==S.last_text||"TK_EQUALS"===R||!O.preserve_newlines&&"TK_RESERVED"===R&&Q(S.last_text,["const","let","const","set","get"])||l(),S.do_block&&!S.do_while){if("TK_RESERVED"===K.type&&"while"===K.text)return g.space_before_token=!0,h(),g.space_before_token=!0,void(S.do_while=!0);l(),S.do_block=!1}if(S.if_block)if(S.else_block||"TK_RESERVED"!==K.type||"else"!==K.text){for(;S.mode===J.Statement;)u();S.if_block=!1,S.else_block=!1}else S.else_block=!0;return"TK_RESERVED"===K.type&&("case"===K.text||"default"===K.text&&S.in_case_statement)?(l(),(S.case_body||O.jslint_happy)&&(function e(){0<S.indentation_level&&(!S.parent||S.indentation_level>S.parent.indentation_level)&&(S.indentation_level-=1)}(),S.case_body=!1),h(),S.in_case=!0,void(S.in_case_statement=!0)):("TK_RESERVED"===K.type&&"function"===K.text&&((Q(S.last_text,["}"," "])||g.just_added_newline()&&!Q(S.last_text,["[","{",":","=",","]))&&(g.just_added_blankline()||K.comments_before.length||(l(),l(!0))),"TK_RESERVED"===R||"TK_WORD"===R?"TK_RESERVED"===R&&Q(S.last_text,["get","set","new","return","export","async"])?g.space_before_token=!0:"TK_RESERVED"===R&&"default"===S.last_text&&"export"===m?g.space_before_token=!0:l():"TK_OPERATOR"===R||"="===S.last_text?g.space_before_token=!0:(S.multiline_frame||!c(S.mode)&&!o(S.mode))&&l()),"TK_COMMA"!==R&&"TK_START_EXPR"!==R&&"TK_EQUALS"!==R&&"TK_OPERATOR"!==R||p()||n(),"TK_RESERVED"===K.type&&Q(K.text,["function","get","set"])?(h(),void(S.last_word=K.text)):(k="NONE","TK_END_BLOCK"===R?"TK_RESERVED"===K.type&&Q(K.text,["else","catch","finally"])?"expand"===O.brace_style||"end-expand"===O.brace_style||"none"===O.brace_style&&K.wanted_newline?k="NEWLINE":(k="SPACE",g.space_before_token=!0):k="NEWLINE":"TK_SEMICOLON"===R&&S.mode===J.BlockStatement?k="NEWLINE":"TK_SEMICOLON"===R&&c(S.mode)?k="SPACE":"TK_STRING"===R?k="NEWLINE":"TK_RESERVED"===R||"TK_WORD"===R||"*"===S.last_text&&"function"===m?k="SPACE":"TK_START_BLOCK"===R?k="NEWLINE":"TK_END_EXPR"===R&&(g.space_before_token=!0,k="NEWLINE"),"TK_RESERVED"===K.type&&Q(K.text,w.line_starters)&&")"!==S.last_text&&(k="else"===S.last_text||"export"===S.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===K.type&&Q(K.text,["else","catch","finally"])?"TK_END_BLOCK"!==R||"expand"===O.brace_style||"end-expand"===O.brace_style||"none"===O.brace_style&&K.wanted_newline?l():(g.trim(!0),"}"!==g.current_line.last()&&l(),g.space_before_token=!0):"NEWLINE"===k?"TK_RESERVED"===R&&f(S.last_text)?g.space_before_token=!0:"TK_END_EXPR"!==R?"TK_START_EXPR"===R&&"TK_RESERVED"===K.type&&Q(K.text,["const","let","const"])||":"===S.last_text||("TK_RESERVED"===K.type&&"if"===K.text&&"else"===S.last_text?g.space_before_token=!0:l()):"TK_RESERVED"===K.type&&Q(K.text,w.line_starters)&&")"!==S.last_text&&l():S.multiline_frame&&o(S.mode)&&","===S.last_text&&"}"===m?l():"SPACE"===k&&(g.space_before_token=!0),h(),S.last_word=K.text,"TK_RESERVED"===K.type&&"do"===K.text&&(S.do_block=!0),void("TK_RESERVED"===K.type&&"if"===K.text&&(S.if_block=!0))))}var g,x,w,K,R,m,b,S,v,A,k,y,O,N=[],D="";for(y={TK_START_EXPR:function L(){d();var e=J.Expression;if("["===K.text){if("TK_WORD"===R||")"===S.last_text)return"TK_RESERVED"===R&&Q(S.last_text,w.line_starters)&&(g.space_before_token=!0),a(e),h(),_(),void(O.space_in_paren&&(g.space_before_token=!0));e=J.ArrayLiteral,o(S.mode)&&("["!==S.last_text&&(","!==S.last_text||"]"!==m&&"}"!==m)||O.keep_array_indentation||l())}else"TK_RESERVED"===R&&"for"===S.last_text?e=J.ForInitializer:"TK_RESERVED"===R&&Q(S.last_text,["if","while"])&&(e=J.Conditional);" "===S.last_text||"TK_START_BLOCK"===R?l():"TK_END_EXPR"===R||"TK_START_EXPR"===R||"TK_END_BLOCK"===R||"."===S.last_text?n(K.wanted_newline):"TK_RESERVED"===R&&"("===K.text||"TK_WORD"===R||"TK_OPERATOR"===R?"TK_RESERVED"===R&&("function"===S.last_word||"typeof"===S.last_word)||"*"===S.last_text&&"function"===m?O.space_after_anon_function&&(g.space_before_token=!0):"TK_RESERVED"!==R||!Q(S.last_text,w.line_starters)&&"catch"!==S.last_text||O.space_before_conditional&&(g.space_before_token=!0):g.space_before_token=!0,"("===K.text&&"TK_RESERVED"===R&&"await"===S.last_word&&(g.space_before_token=!0),"("===K.text&&("TK_EQUALS"!==R&&"TK_OPERATOR"!==R||p()||n()),a(e),h(),O.space_in_paren&&(g.space_before_token=!0),_()},TK_END_EXPR:function I(){for(;S.mode===J.Statement;)u();S.multiline_frame&&n("]"===K.text&&o(S.mode)&&!O.keep_array_indentation),O.space_in_paren&&("TK_START_EXPR"!==R||O.space_in_empty_paren?g.space_before_token=!0:(g.trim(),g.space_before_token=!1)),"]"===K.text&&O.keep_array_indentation?(h(),u()):(u(),h()),g.remove_redundant_indentation(v),S.do_while&&v.mode===J.Conditional&&(v.mode=J.Expression,S.do_block=!1,S.do_while=!1)},TK_START_BLOCK:function V(){var e=T(1),t=T(2);t&&(":"===t.text&&Q(e.type,["TK_STRING","TK_WORD","TK_RESERVED"])||Q(e.text,["get","set"])&&Q(t.type,["TK_WORD","TK_RESERVED"]))?Q(m,["class","interface"])?a(J.BlockStatement):a(J.ObjectLiteral):a(J.BlockStatement);var n=!e.comments_before.length&&"}"===e.text&&"function"===S.last_word&&"TK_END_EXPR"===R;"expand"===O.brace_style||"none"===O.brace_style&&K.wanted_newline?"TK_OPERATOR"!==R&&(n||"TK_EQUALS"===R||"TK_RESERVED"===R&&f(S.last_text)&&"else"!==S.last_text)?g.space_before_token=!0:l(!1,!0):"TK_OPERATOR"!==R&&"TK_START_EXPR"!==R?"TK_START_BLOCK"===R?l():g.space_before_token=!0:o(v.mode)&&","===S.last_text&&("}"===m?g.space_before_token=!0:l()),h(),_()},TK_END_BLOCK:function P(){for(;S.mode===J.Statement;)u();var e="TK_START_BLOCK"===R;"expand"===O.brace_style?e||l():e||(o(S.mode)&&O.keep_array_indentation?(O.keep_array_indentation=!1,l(),O.keep_array_indentation=!0):l()),u(),h()},TK_WORD:E,TK_RESERVED:E,TK_SEMICOLON:function B(){for(d()&&(g.space_before_token=!1);S.mode===J.Statement&&!S.if_block&&!S.do_block;)u();h()},TK_STRING:function j(){d()?g.space_before_token=!0:"TK_RESERVED"===R||"TK_WORD"===R?g.space_before_token=!0:"TK_COMMA"===R||"TK_START_EXPR"===R||"TK_EQUALS"===R||"TK_OPERATOR"===R?p()||n():l(),h()},TK_EQUALS:function M(){d(),S.declaration_statement&&(S.declaration_assignment=!0),g.space_before_token=!0,h(),g.space_before_token=!0},TK_OPERATOR:function U(){if(d(),"TK_RESERVED"===R&&f(S.last_text))return g.space_before_token=!0,void h();if("*"!==K.text||"TK_DOT"!==R){if(":"===K.text&&S.in_case)return S.case_body=!0,_(),h(),l(),void(S.in_case=!1);if("::"!==K.text){"TK_OPERATOR"===R&&n();var e=!0,t=!0;Q(K.text,["--","++","!","~"])||Q(K.text,["-","+"])&&(Q(R,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||Q(S.last_text,w.line_starters)||","===S.last_text)?(t=e=!1,!K.wanted_newline||"--"!==K.text&&"++"!==K.text||l(!1,!0)," "===S.last_text&&c(S.mode)&&(e=!0),"TK_RESERVED"===R?e=!0:"TK_END_EXPR"===R?e=!("]"===S.last_text&&("--"===K.text||"++"===K.text)):"TK_OPERATOR"===R&&(e=Q(K.text,["--","-","++","+"])&&Q(S.last_text,["--","-","++","+"]),Q(K.text,["+","-"])&&Q(S.last_text,["--","++"])&&(t=!0)),S.mode!==J.BlockStatement&&S.mode!==J.Statement||"{"!==S.last_text&&" "!==S.last_text||l()):":"===K.text?0===S.ternary_depth?e=!1:S.ternary_depth-=1:"?"===K.text?S.ternary_depth+=1:"*"===K.text&&"TK_RESERVED"===R&&"function"===S.last_text&&(t=e=!1),g.space_before_token=g.space_before_token||e,h(),g.space_before_token=t}else h()}else h()},TK_COMMA:function W(){if(S.declaration_statement)return c(S.parent.mode)&&(S.declaration_assignment=!1),h(),void(S.declaration_assignment?l(S.declaration_assignment=!1,!0):(g.space_before_token=!0,O.comma_first&&n()));h(),S.mode===J.ObjectLiteral||S.mode===J.Statement&&S.parent.mode===J.ObjectLiteral?(S.mode===J.Statement&&u(),l()):(g.space_before_token=!0,O.comma_first&&n())},TK_BLOCK_COMMENT:function z(){if(g.raw)return g.add_raw_token(K),void(K.directives&&"end"===K.directives.preserve&&(O.test_output_raw||(g.raw=!1)));if(K.directives)return l(!1,!0),h(),"start"===K.directives.preserve&&(g.raw=!0),void l(!1,!0);if(!q.newline.test(K.text)&&!K.wanted_newline)return g.space_before_token=!0,h(),void(g.space_before_token=!0);var e,t=function _(e){var t,n=[];for(t=(e=e.replace(/\x0d/g,"")).indexOf("\n");-1!==t;)n.push(e.substring(0,t)),t=(e=e.substring(t+1)).indexOf("\n");return e.length&&n.push(e),n}(K.text),n=!1,i=!1,r=K.whitespace_before,s=r.length;for(l(!1,!0),1<t.length&&(function a(e,t){for(var n=0;n<e.length;n++){if(Y(e[n]).charAt(0)!==t)return!1}return!0}(t.slice(1),"*")?n=!0:function o(e,t){for(var n,i=0,r=e.length;i<r;i++)if((n=e[i])&&0!==n.indexOf(t))return!1;return!0}(t.slice(1),r)&&(i=!0)),h(t[0]),e=1;e<t.length;e++)l(!1,!0),n?h(" "+t[e].replace(/^\s+/g,"")):i&&t[e].length>s?h(t[e].substring(s)):g.add_token(t[e]);l(!1,!0)},TK_COMMENT:function G(){K.wanted_newline?l(!1,!0):g.trim(!0),g.space_before_token=!0,h(),l(!1,!0)},TK_DOT:function X(){d(),"TK_RESERVED"===R&&f(S.last_text)?g.space_before_token=!0:n(")"===S.last_text&&O.break_chained_methods),h()},TK_UNKNOWN:function F(){h(),"\n"===K.text[K.text.length-1]&&l()},TK_EOF:function $(){for(;S.mode===J.Statement;)u()}},O={},(e=e||{}).braces_on_own_line!==undefined&&(O.brace_style=e.braces_on_own_line?"expand":"collapse"),O.brace_style=e.brace_style?e.brace_style:O.brace_style?O.brace_style:"collapse","expand-strict"===O.brace_style&&(O.brace_style="expand"),O.indent_size=e.indent_size?parseInt(e.indent_size,10):4,O.indent_char=e.indent_char?e.indent_char:" ",O.eol=e.eol?e.eol:"\n",O.preserve_newlines=e.preserve_newlines===undefined||e.preserve_newlines,O.break_chained_methods=e.break_chained_methods!==undefined&&e.break_chained_methods,O.max_preserve_newlines=e.max_preserve_newlines===undefined?0:parseInt(e.max_preserve_newlines,10),O.space_in_paren=e.space_in_paren!==undefined&&e.space_in_paren,O.space_in_empty_paren=e.space_in_empty_paren!==undefined&&e.space_in_empty_paren,O.jslint_happy=e.jslint_happy!==undefined&&e.jslint_happy,O.space_after_anon_function=e.space_after_anon_function!==undefined&&e.space_after_anon_function,O.keep_array_indentation=e.keep_array_indentation!==undefined&&e.keep_array_indentation,O.space_before_conditional=e.space_before_conditional===undefined||e.space_before_conditional,O.unescape_strings=e.unescape_strings!==undefined&&e.unescape_strings,O.wrap_line_length=e.wrap_line_length===undefined?0:parseInt(e.wrap_line_length,10),O.e4x=e.e4x!==undefined&&e.e4x,O.end_with_newline=e.end_with_newline!==undefined&&e.end_with_newline,O.comma_first=e.comma_first!==undefined&&e.comma_first,O.test_output_raw=e.test_output_raw!==undefined&&e.test_output_raw,O.jslint_happy&&(O.space_after_anon_function=!0),e.indent_with_tabs&&(O.indent_char="\t",O.indent_size=1),O.eol=O.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),b="";0<O.indent_size;)b+=O.indent_char,O.indent_size-=1;var C=0;if(i&&i.length){for(;" "===i.charAt(C)||"\t"===i.charAt(C);)D+=i.charAt(C),C+=1;i=i.substring(C)}R="TK_START_BLOCK",m="",(g=new H(b,D)).raw=O.test_output_raw,A=[],a(J.BlockStatement),this.beautify=function(){var e,t;for(w=new Z(i,O,b),N=w.tokenize(),x=0;e=T();){for(var n=0;n<e.comments_before.length;n++)r(e.comments_before[n]);r(e),m=S.last_text,R=e.type,S.last_text=e.text,x+=1}return t=g.get_code(),O.end_with_newline&&(t+="\n"),"\n"!=O.eol&&(t=t.replace(/[\n]/g,O.eol)),t}}function e(t){var n=0,i=-1,r=[],s=!0;this.set_indent=function(e){n=t.baseIndentLength+e*t.indent_length,i=e},this.get_character_count=function(){return n},this.is_empty=function(){return s},this.last=function(){return this._empty?null:r[r.length-1]},this.push=function(e){r.push(e),n+=e.length,s=!1},this.pop=function(){var e=null;return s||(e=r.pop(),n-=e.length,s=0===r.length),e},this.remove_indent=function(){0<i&&(i-=1,n-=t.indent_length)},this.trim=function(){for(;" "===this.last();)r.pop(),n-=1;s=0===r.length},this.toString=function(){var e="";return this._empty||(0<=i&&(e=t.indent_cache[i]),e+=r.join("")),e}}function H(t,n){n=n||"",this.indent_cache=[n],this.baseIndentLength=n.length,this.indent_length=t.length,this.raw=!1;var i=[];this.baseIndentString=n,this.indent_string=t,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new e(this),i.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return i.length},this.add_new_line=function(e){return!(1===this.get_line_number()&&this.just_added_newline()||!e&&this.just_added_newline()||(this.raw||this.add_outputline(),0))},this.get_code=function(){return i.join("\n").replace(/[\r\n\t ]+$/,"")},this.set_indent=function(e){if(1<i.length){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(e){if(!e.multiline_frame&&e.mode!==J.ForInitializer&&e.mode!==J.Conditional)for(var t=e.start_line_index,n=i.length;t<n;)i[t].remove_indent(),t++},this.trim=function(e){for(e=e!==undefined&&e,this.current_line.trim(t,n);e&&1<i.length&&this.current_line.is_empty();)i.pop(),this.current_line=i[i.length-1],this.current_line.trim();this.previous_line=1<i.length?i[i.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(1===i.length||i[i.length-2].is_empty())}}function Z(k,y){function _(){var e,t,n=[];if(I=0,V="",M<=j)return["","TK_EOF"];t=B.length?B[B.length-1]:new ee("TK_START_BLOCK","{");var i=k.charAt(j);for(j+=1;Q(i,O);){if(q.newline.test(i)?"\n"===i&&"\r"===k.charAt(j-2)||(I+=1,n=[]):n.push(i),M<=j)return["","TK_EOF"];i=k.charAt(j),j+=1}if(n.length&&(V=n.join("")),N.test(i)){var r=!0,s=!0,_=N;for("0"===i&&j<M&&/[Xxo]/.test(k.charAt(j))?(s=r=!1,i+=k.charAt(j),j+=1,_=/[o]/.test(k.charAt(j))?D:C):(i="",j-=1);j<M&&_.test(k.charAt(j));)i+=k.charAt(j),j+=1,r&&j<M&&"."===k.charAt(j)&&(i+=k.charAt(j),j+=1,r=!1),s&&j<M&&/[Ee]/.test(k.charAt(j))&&(i+=k.charAt(j),(j+=1)<M&&/[+-]/.test(k.charAt(j))&&(i+=k.charAt(j),j+=1),r=s=!1);return[i,"TK_WORD"]}if(q.isIdentifierStart(k.charCodeAt(j-1))){if(j<M)for(;q.isIdentifierChar(k.charCodeAt(j))&&(i+=k.charAt(j),(j+=1)!==M););return"TK_DOT"===t.type||"TK_RESERVED"===t.type&&Q(t.text,["set","get"])||!Q(i,U)?[i,"TK_WORD"]:"in"===i?[i,"TK_OPERATOR"]:[i,"TK_RESERVED"]}if("("===i||"["===i)return[i,"TK_START_EXPR"];if(")"===i||"]"===i)return[i,"TK_END_EXPR"];if("{"===i)return[i,"TK_START_BLOCK"];if("}"===i)return[i,"TK_END_BLOCK"];if(" "===i)return[i,"TK_SEMICOLON"];if("/"===i){var a="";if("*"===k.charAt(j)){j+=1,W.lastIndex=j;var o=W.exec(k);a="/*"+o[0],j+=o[0].length;var l=function v(e){if(!e.match(G))return null;var t={};X.lastIndex=0;for(var n=X.exec(e);n;)t[n[1]]=n[2],n=X.exec(e);return t}(a);return l&&"start"===l.ignore&&(F.lastIndex=j,a+=(o=F.exec(k))[0],j+=o[0].length),[a=a.replace(q.lineBreak,"\n"),"TK_BLOCK_COMMENT",l]}if("/"===k.charAt(j)){j+=1,z.lastIndex=j;var h=z.exec(k);return a="//"+h[0],j+=h[0].length,[a,"TK_COMMENT"]}}if("`"===i||"'"===i||'"'===i||("/"===i||y.e4x&&"<"===i&&k.slice(j-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/))&&("TK_RESERVED"===t.type&&Q(t.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===t.type&&")"===t.text&&t.parent&&"TK_RESERVED"===t.parent.type&&Q(t.parent.text,["if","while","for"])||Q(t.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var c=i,u=!1,p=!1;if(e=i,"/"===c)for(var d=!1;j<M&&(u||d||k.charAt(j)!==c)&&!q.newline.test(k.charAt(j));)e+=k.charAt(j),u?u=!1:(u="\\"===k.charAt(j),"["===k.charAt(j)?d=!0:"]"===k.charAt(j)&&(d=!1)),j+=1;else if(y.e4x&&"<"===c){var f=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/g,T=k.slice(j-1),E=f.exec(T);if(E&&0===E.index){for(var g=E[2],x=0;E;){var w=!!E[1],K=E[2],R=!!E[E.length-1]||"![CDATA["===K.slice(0,8);if(K!==g||R||(w?--x:++x),x<=0)break;E=f.exec(T)}var m=E?E.index+E[0].length:T.length;return T=T.slice(0,m),j+=m-1,[T=T.replace(q.lineBreak,"\n"),"TK_STRING"]}}else for(;j<M&&(u||k.charAt(j)!==c&&("`"===c||!q.newline.test(k.charAt(j))));)(u||"`"===c)&&q.newline.test(k.charAt(j))?("\r"===k.charAt(j)&&"\n"===k.charAt(j+1)&&(j+=1),e+="\n"):e+=k.charAt(j),u=u?("x"!==k.charAt(j)&&"u"!==k.charAt(j)||(p=!0),!1):"\\"===k.charAt(j),j+=1;if(p&&y.unescape_strings&&(e=function A(e){for(var t,n=!1,i="",r=0,s="",_=0;n||r<e.length;)if(t=e.charAt(r),r++,n){if(n=!1,"x"===t)s=e.substr(r,2),r+=2;else{if("u"!==t){i+="\\"+t;continue}s=e.substr(r,4),r+=4}if(!s.match(/^[0123456789abcdefABCDEF]+$/))return e;if(0<=(_=parseInt(s,16))&&_<32){i+="x"===t?"\\x"+s:"\\u"+s;continue}if(34===_||39===_||92===_)i+="\\"+String.fromCharCode(_);else{if("x"===t&&126<_&&_<=255)return e;i+=String.fromCharCode(_)}}else"\\"===t?n=!0:i+=t;return i}(e)),j<M&&k.charAt(j)===c&&(e+=c,j+=1,"/"===c))for(;j<M&&q.isIdentifierStart(k.charCodeAt(j));)e+=k.charAt(j),j+=1;return[e,"TK_STRING"]}if("#"===i){if(0===B.length&&"!"===k.charAt(j)){for(e=i;j<M&&"\n"!==i;)e+=i=k.charAt(j),j+=1;return[Y(e)+"\n","TK_UNKNOWN"]}var b="#";if(j<M&&N.test(k.charAt(j))){for(;b+=i=k.charAt(j),(j+=1)<M&&"#"!==i&&"="!==i;);return"#"===i||("["===k.charAt(j)&&"]"===k.charAt(j+1)?(b+="[]",j+=2):"{"===k.charAt(j)&&"}"===k.charAt(j+1)&&(b+="{}",j+=2)),[b,"TK_WORD"]}}if("<"===i&&("?"===k.charAt(j)||"%"===k.charAt(j))){$.lastIndex=j-1;var S=$.exec(k);if(S)return i=S[0],j+=i.length-1,[i=i.replace(q.lineBreak,"\n"),"TK_STRING"]}if("<"===i&&"<!--"===k.substring(j-1,j+3)){for(j+=3,i="<!--";!q.newline.test(k.charAt(j))&&j<M;)i+=k.charAt(j),j++;return P=!0,[i,"TK_COMMENT"]}if("-"===i&&P&&"-->"===k.substring(j-1,j+2))return P=!1,j+=2,["-->","TK_COMMENT"];if("."===i)return[i,"TK_DOT"];if(Q(i,L)){for(;j<M&&Q(i+k.charAt(j),L)&&(i+=k.charAt(j),!(M<=(j+=1))););return","===i?[i,"TK_COMMA"]:"="===i?[i,"TK_EQUALS"]:[i,"TK_OPERATOR"]}return[i,"TK_UNKNOWN"]}var O="\n\r\t ".split(""),N=/[0-9]/,D=/[01234567]/,C=/[0123456789abcdefABCDEF]/,L="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>".split(" ");this.line_starters="continue,try,throw,return,const,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var I,V,P,B,j,M,U=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await"]),W=/([\s\S]*?)((?:\*\/)|$)/g,z=/([^\n\r\u2028\u2029]*)/g,G=/\/\* beautify( \w+[:]\w+)+ \*\//g,X=/ (\w+)[:](\w+)/g,F=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,$=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;this.tokenize=function(){var e,t,n;M=k.length,j=0,P=!1,B=[];for(var i=null,r=[],s=[];!t||"TK_EOF"!==t.type;){for(n=_(),e=new ee(n[1],n[0],I,V);"TK_COMMENT"===e.type||"TK_BLOCK_COMMENT"===e.type||"TK_UNKNOWN"===e.type;)"TK_BLOCK_COMMENT"===e.type&&(e.directives=n[2]),s.push(e),n=_(),e=new ee(n[1],n[0],I,V);s.length&&(e.comments_before=s,s=[]),"TK_START_BLOCK"===e.type||"TK_START_EXPR"===e.type?(e.parent=t,r.push(i),i=e):("TK_END_BLOCK"===e.type||"TK_END_EXPR"===e.type)&&i&&("]"===e.text&&"["===i.text||")"===e.text&&"("===i.text||"}"===e.text&&"{"===i.text)&&(e.parent=i.parent,i=r.pop()),B.push(e),t=e}return B}}var t,i,r,s,q={};t=q,i="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",r=new RegExp("["+i+"]"),s=new RegExp(
"["+i+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]"),t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp("\r\n|"+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g"),t.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||170<=e&&r.test(String.fromCharCode(e)))},t.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||170<=e&&s.test(String.fromCharCode(e))))};var J={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},ee=function ee(e,t,n,i){this.type=e,this.text=t,this.comments_before=[],this.newlines=n||0,this.wanted_newline=0<n,this.whitespace_before=i||"",this.parent=null,this.directives=null};return{run:function N(e,t){function _(e){return e.replace(/\s+$/g,"")}var n,i,r,T,s,a,E,o,l,g,x,w,h,c;for((t=t||{}).wrap_line_length!==undefined&&0!==parseInt(t.wrap_line_length,10)||t.max_char===undefined||0===parseInt(t.max_char,10)||(t.wrap_line_length=t.max_char),i=t.indent_inner_html!==undefined&&t.indent_inner_html,r=t.indent_size===undefined?4:parseInt(t.indent_size,10),T=t.indent_char===undefined?" ":t.indent_char,a=t.brace_style===undefined?"collapse":t.brace_style,s=0===parseInt(t.wrap_line_length,10)?32786:parseInt(t.wrap_line_length||250,10),E=t.unformatted||["a","span","img","bdo","em","strong","dfn","code","samp","kbd","const","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","address","pre"],o=t.preserve_newlines===undefined||t.preserve_newlines,l=o?isNaN(parseInt(t.max_preserve_newlines,10))?32786:parseInt(t.max_preserve_newlines,10):0,g=t.indent_handlebars!==undefined&&t.indent_handlebars,x=t.wrap_attributes===undefined?"auto":t.wrap_attributes,w=t.wrap_attributes_indent_size===undefined?r:parseInt(t.wrap_attributes_indent_size,10)||r,h=t.end_with_newline!==undefined&&t.end_with_newline,c=Array.isArray(t.extra_liners)?t.extra_liners.concat():"string"==typeof t.extra_liners?t.extra_liners.split(","):"head,body,/html".split(","),t.indent_with_tabs&&(T="\t",r=1),(n=new function k(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=i,this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,source,!doctype,basefont,base,area,hr,wbr,param,img,isindex,embed".split(","),extra_liners:c,in_array:function(e,t){for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1}},this.is_whitespace=function(e){for(;0<e.length;e++)if(!this.Utils.in_array(e.charAt(0),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var e="";if(e=this.input.charAt(this.pos),this.Utils.in_array(e,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(e,this.Utils.whitespace);)o&&"\n"===e&&this.newlines<=l&&(this.newlines+=1),this.pos++,e=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(e){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,e),this.print_indentation(e)):(this.line_char_count++,e.push(" "))},this.get_content=function(){for(var e="",t=[];"<"!=this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(t);else{if(g){var n=this.input.substr(this.pos,3);if("{{#"===n||"{{/"===n)break;if("{{!"===n)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos===this.input.length)return["","TK_EOF"];var t="",n=new RegExp("</"+e+"\\s*>","igm");n.lastIndex=this.pos;var i=n.exec(this.input),r=i?i.index:this.input.length;return this.pos<r&&(t=this.input.substring(this.pos,r),this.pos=r),t},this.record_tag=function(e){this.tags[e+"count"]?this.tags[e+"count"]++:this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level,this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1===this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.indent_to_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]])}},this.get_tag=function(e){var t,n,i="",r=[],s="",_=!1,a=!0,o=this.pos,l=this.line_char_count;e=e!==undefined&&e;do{if(this.pos>=this.input.length)return e&&(this.pos=o,this.line_char_count=l),r.length?r.join(""):["","TK_EOF"];if(i=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(i,this.Utils.whitespace))_=!0;else{if("'"!==i&&'"'!==i||(i+=this.get_unformatted(i),_=!0),"="===i&&(_=!1),r.length&&"="!=r[r.length-1]&&">"!=i&&_){if(this.space_or_wrap(r),_=!1,!a&&"force"===x&&"/"!=i){this.print_newline(!0,r),this.print_indentation(r);for(var h=0;h<w;h++)r.push(T)}for(var c=0;c<r.length;c++)if(" "===r[c]){a=!1;break}}if(g&&"<"===n&&i+this.input.charAt(this.pos)==="{{"&&(i+=this.get_unformatted("}}"),r.length&&" "!=r[r.length-1]&&"<"!=r[r.length-1]&&(i=" "+i),_=!0),"<"!==i||n||(t=this.pos-1,n="<"),g&&!n&&2<=r.length&&"{"===r[r.length-1]&&"{"===r[r.length-2]&&(t="#"===i||"/"===i||"!"===i?this.pos-3:this.pos-2,n="{"),this.line_char_count++,r.push(i),r[1]&&("!"===r[1]||"?"===r[1]||"%"===r[1])){r=[this.get_comment(t)];break}if(g&&r[1]&&"{"===r[1]&&r[2]&&"!"===r[2]){r=[this.get_comment(t)];break}if(g&&"{"===n&&2<r.length&&"}"===r[r.length-2]&&"}"===r[r.length-1])break}}while(">"!=i);var u,p,d=r.join("");u=-1!=d.indexOf(" ")?d.indexOf(" "):"{"===d[0]?d.indexOf("}"):d.indexOf(">"),p="<"!==d[0]&&g?"#"===d[2]?3:2:1;var f=d.substring(p,u).toLowerCase();return"/"===d.charAt(d.length-2)||this.Utils.in_array(f,this.Utils.single_token)?e||(this.tag_type="SINGLE"):g&&"{"===d[0]&&"else"===f?e||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(f,E)?(s=this.get_unformatted("</"+f+">",d),r.push(s),this.pos,this.tag_type="SINGLE"):"script"===f&&(-1===d.search("type")||-1<d.search("type")&&-1<d.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/))?e||(this.record_tag(f),this.tag_type="SCRIPT"):"style"===f&&(-1===d.search("type")||-1<d.search("type")&&-1<d.search("text/css"))?e||(this.record_tag(f),this.tag_type="STYLE"):"!"===f.charAt(0)?e||(this.tag_type="SINGLE",this.traverse_whitespace()):e||("/"===f.charAt(0)?(this.retrieve_tag(f.substring(1)),this.tag_type="END"):(this.record_tag(f),"html"!=f.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(r),this.Utils.in_array(f,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!=this.output[this.output.length-2]&&this.print_newline(!0,this.output))),e&&(this.pos=o,this.line_char_count=l),r.join("")},this.get_comment=function(e){var t="",n=">",i=!1;this.pos=e;var r=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&((t+=r)[t.length-1]!==n[n.length-1]||-1==t.indexOf(n));)!i&&t.length<10&&(0===t.indexOf("<![if")?(n="<![endif]>",i=!0):0===t.indexOf("<![cdata[")?(n="]]>",i=!0):0===t.indexOf("<![")?(n="]>",i=!0):0===t.indexOf("<!--")?(n="-->",i=!0):0===t.indexOf("{{!")?(n="}}",i=!0):0===t.indexOf("<?")?(n="?>",i=!0):0===t.indexOf("<%")&&(n="%>",i=!0)),r=this.input.charAt(this.pos),this.pos++;return t},this.get_unformatted=function(e,t){if(t&&-1!=t.toLowerCase().indexOf(e))return"";var n="",i="",r=0,s=!0;do{if(this.pos>=this.input.length)return i;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!s){this.line_char_count--;continue}if("\n"===n||"\r"===n){i+="\n",this.line_char_count=0;continue}}i+=n,this.line_char_count++,s=!0,g&&"{"===n&&i.length&&"{"===i[i.length-2]&&(r=(i+=this.get_unformatted("}}")).length)}while(-1===i.toLowerCase().indexOf(e,r));return i},this.get_token=function(){var e;if("TK_TAG_SCRIPT"!==this.last_token&&"TK_TAG_STYLE"!==this.last_token)return"CONTENT"===this.current_mode?"string"!=typeof(e=this.get_content())?e:[e,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(e=this.get_tag())?e:[e,"TK_TAG_"+this.tag_type]:void 0;var t=this.last_token.substr(7);return"string"!=typeof(e=this.get_contents_to(t))?e:[e,"TK_"+t]},this.get_full_indent=function(e){return(e=this.indent_level+e||0)<1?"":new Array(e+1).join(this.indent_string)},this.is_unformatted=function(e,t){if(!this.Utils.in_array(e,t))return!1;if("a"!=e.toLowerCase()||!this.Utils.in_array("a",t))return!0;var n=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(n&&!this.Utils.in_array(n,t))},this.printer=function(e,t,n,i,r){this.input=e||"",this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=n,this.brace_style=r,this.indent_level=0,this.wrap_line_length=i;for(var s=this.line_char_count=0;s<this.indent_size;s++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){this.line_char_count=0,t&&t.length&&(e||"\n"!=t[t.length-1])&&("\n"!=t[t.length-1]&&(t[t.length-1]=_(t[t.length-1])),t.push("\n"))},this.print_indentation=function(e){for(var t=0;t<this.indent_level;t++)e.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(e){this.is_whitespace(e)&&!this.output.length||((e||""!==e)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),e=function t(e){return e.replace(/^\s+/g,"")}(e)),this.print_token_raw(e))},this.print_token_raw=function(e){0<this.newlines&&(e=_(e)),e&&""!==e&&(1<e.length&&"\n"===e[e.length-1]?(this.output.push(e.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(e));for(var t=0;t<this.newlines;t++)this.print_newline(0<t,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){0<this.indent_level&&this.indent_level--}},this}).printer(e,T,r,s,a);;){var u=n.get_token();if(n.token_text=u[0],n.token_type=u[1],"TK_EOF"===n.token_type)break;switch(n.token_type){case"TK_TAG_START":n.print_newline(!1,n.output),n.print_token(n.token_text),n.indent_content&&(n.indent(),n.indent_content=!1),n.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":n.print_newline(!1,n.output),n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===n.last_token&&""===n.last_text){var p=n.token_text.match(/\w+/)[0],d=null;n.output.length&&(d=n.output[n.output.length-1].match(/(?:<|{{#)\/?\s*(\w+)/)),(null===d||d[1]!=p&&!n.Utils.in_array(d[1],E))&&n.print_newline(!1,n.output)}n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var f=n.token_text.match(/^\s*<([a-z-]+)/i);f&&n.Utils.in_array(f[1],E)||n.print_newline(!1,n.output),n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":n.print_token(n.token_text),n.indent_content&&(n.indent(),n.indent_content=!1),n.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":case"TK_CONTENT":n.print_token(n.token_text),n.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==n.token_text){n.print_newline(!1,n.output);var K=n.token_text,R=void 0,m=1;"TK_SCRIPT"===n.token_type?R=O:"TK_STYLE"===n.token_type&&(R=y),"keep"===t.indent_scripts?m=0:"separate"===t.indent_scripts&&(m=-n.indent_level);var b=n.get_full_indent(m);if(R)K=R(K.replace(/^\s*/,b),t);else{var S=K.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(n.indent_string).length-1,v=n.get_full_indent(m-S);K=K.replace(/^\s*/,b).replace(/\r\n|\r|\n/g,"\n"+v).replace(/\s+$/,"")}K&&(n.print_token_raw(K),n.print_newline(!0,n.output))}n.current_mode="TAG";break;default:""!==n.token_text&&n.print_token(n.token_text)}n.last_token=n.token_type,n.last_text=n.token_text}var A=n.output.join("").replace(/[\r\n\t ]+$/,"");return h&&(A+="\n"),A}}}});